var Spring=function(d,c,f,g,e){this.init(d,c,f,g,e)};Spring.prototype={init:function(d,c,f,g,e){this["springConstant"]=f;this["damping"]=g;this["restLength"]=e;this["a"]=d;this["b"]=c;this.forceX=0;this.forceY=0},apply:function(){var j=this.a.positionX-this.b.positionX;var h=this.a.positionY-this.b.positionY;var c=Math.sqrt(j*j+h*h);if(c==0){j=0;h=0}else{j*=(1/c);h*=(1/c)}var d=-(c-this.restLength)*this.springConstant;var g=this.a.velocityX-this.b.velocityX;var f=this.a.velocityY-this.b.velocityY;var e=-this.damping*(j*g+h*f);var b=d+e;j*=b;h*=b;var a=j-this.forceX;var i=h-this.forceY;if(!this.a.fixed&&!this.a.selected){this.a.forceX+=a;this.a.forceY+=i}if(!this.b.fixed&&!this.b.selected){this.b.forceX-=a;this.b.forceY-=i}this.forceX=j;this.forceY=h}};