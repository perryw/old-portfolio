Ajax.InPlaceEditorWithEmptyText=Class.create(Ajax.InPlaceEditor,{initialize:function($super,c,b,a){if(!a.emptyText){a.emptyText="click to editâ€¦"}if(!a.emptyClassName){a.emptyClassName="inplaceeditor-empty"}$super(c,b,a);this.checkEmpty()},checkEmpty:function(){if(this.element.innerHTML.length==0&&this.options.emptyText){this.element.appendChild(new Element("span",{className:this.options.emptyClassName}).update(this.options.emptyText))}},getText:function($super){if(empty_span=this.element.select("."+this.options.emptyClassName).first()){empty_span.remove()}return $super()},leaveEditMode:function($super){this.checkEmpty();return $super()},onComplete:function($super,a){this.checkEmpty();return $super(a)}});